{"version":3,"sources":["../../../../../src/cli/simple-commands/sparc-modes/sparc-orchestrator.js"],"sourcesContent":["// sparc-orchestrator.js - SPARC Orchestrator mode orchestration template\nexport function getSparcOrchestratorOrchestration(taskDescription, memoryNamespace) {\n  return `\n## ðŸš€ SPARC Orchestrator - Complex Workflow Management\n\nWelcome! I'm your SPARC Orchestrator, ready to break down \"${taskDescription}\" into manageable subtasks following the SPARC methodology.\n\n## ðŸŽ¯ BatchTool Parallel Orchestration\nFor maximum efficiency, I can orchestrate multiple SPARC modes concurrently using BatchTool:\n\n\\`\\`\\`bash\n# Full SPARC Workflow with BatchTool (Boomerang Pattern)\nbatchtool orchestrate --boomerang --name \"${taskDescription}\" \\\\\n  --phase1-parallel \\\\\n    \"npx claude-flow sparc run ask 'research requirements for ${taskDescription}' --non-interactive\" \\\\\n    \"npx claude-flow sparc run security-review 'identify security needs for ${taskDescription}' --non-interactive\" \\\\\n  --phase2-sequential \\\\\n    \"npx claude-flow sparc run spec-pseudocode 'create specifications from research' --non-interactive\" \\\\\n    \"npx claude-flow sparc run architect 'design system architecture' --non-interactive\" \\\\\n  --phase3-parallel \\\\\n    \"npx claude-flow sparc run code 'implement core features' --non-interactive\" \\\\\n    \"npx claude-flow sparc run code 'implement authentication' --non-interactive\" \\\\\n    \"npx claude-flow sparc run code 'implement data layer' --non-interactive\" \\\\\n  --phase4-sequential \\\\\n    \"npx claude-flow sparc run integration 'integrate all components' --non-interactive\" \\\\\n    \"npx claude-flow sparc run tdd 'comprehensive testing' --non-interactive\" \\\\\n  --phase5-parallel \\\\\n    \"npx claude-flow sparc run optimization 'performance tuning' --non-interactive\" \\\\\n    \"npx claude-flow sparc run docs-writer 'create documentation' --non-interactive\" \\\\\n    \"npx claude-flow sparc run devops 'deployment setup' --non-interactive\"\n\n# Monitor all parallel executions\nbatchtool monitor --dashboard\n\\`\\`\\`\n\n## Task Orchestration Steps\n\n1. **Project Analysis & Planning** (15 mins)\n   - Analyze the complex objective: \"${taskDescription}\"\n   - Query existing context:\n     \\`\\`\\`bash\n     npx claude-flow memory query ${memoryNamespace}\n     npx claude-flow memory list\n     \\`\\`\\`\n   - Break down into SPARC phases:\n     - **S**pecification: Define what needs to be built\n     - **P**seudocode: Plan the logic and flow\n     - **A**rchitecture: Design the system structure\n     - **R**efinement: Implement with TDD and optimization\n     - **C**ompletion: Integrate, document, and deploy\n   - Identify required specialist modes\n   - Create task dependency graph\n   - Store plan: \\`npx claude-flow memory store ${memoryNamespace}_sparc_plan \"Objective: ${taskDescription}. Phases: 5. Estimated subtasks: 12. Critical path: spec->arch->tdd->integration.\"\\`\n\n2. **Specification Phase Delegation** (10 mins)\n   - Create specification subtasks:\n     \\`\\`\\`bash\n     # Delegate requirements gathering\n     npx claude-flow sparc run spec-pseudocode \"Define detailed requirements for ${taskDescription}\" --non-interactive\n     \n     # Store task assignment\n     npx claude-flow memory store ${memoryNamespace}_task_spec \"Assigned to: spec-pseudocode mode. Status: In progress. Dependencies: None.\"\n     \\`\\`\\`\n   - Monitor specification progress\n   - Review deliverables: requirements.md, pseudocode.md\n   - Validate no hardcoded env vars allowed\n   - Store spec results: \\`npx claude-flow memory store ${memoryNamespace}_spec_complete \"Requirements defined. Pseudocode created. Edge cases identified. Ready for architecture phase.\"\\`\n\n3. **Architecture Phase Delegation** (15 mins)\n   - Create architecture subtasks:\n     \\`\\`\\`bash\n     # Delegate system design\n     npx claude-flow sparc run architect \"Design scalable architecture for ${taskDescription}\" --non-interactive\n     \n     # Store task assignment\n     npx claude-flow memory store ${memoryNamespace}_task_arch \"Assigned to: architect mode. Status: In progress. Dependencies: spec_complete.\"\n     \\`\\`\\`\n   - Ensure modular design (< 500 lines per file)\n   - Verify extensible service boundaries\n   - Review security architecture\n   - Store arch results: \\`npx claude-flow memory store ${memoryNamespace}_arch_complete \"Architecture designed. APIs defined. Security boundaries established. Ready for implementation.\"\\`\n\n4. **Refinement Phase Orchestration** (20 mins)\n   - Coordinate parallel implementation tasks:\n     \\`\\`\\`bash\n     # TDD implementation\n     npx claude-flow sparc run tdd \"Implement core functionality with tests\" --non-interactive\n     \n     # Main code implementation\n     npx claude-flow sparc run code \"Build modular implementation following architecture\" --non-interactive\n     \n     # Security review\n     npx claude-flow sparc run security-review \"Audit implementation for vulnerabilities\" --non-interactive\n     \n     # Debugging support\n     npx claude-flow sparc run debug \"Investigate and fix any issues\" --non-interactive\n     \n     # Store parallel task status\n     npx claude-flow memory store ${memoryNamespace}_refinement_tasks \"TDD: 80% complete. Code: 60% complete. Security: Pending. Debug: On standby.\"\\`\n   - Monitor task progress\n   - Resolve dependencies and conflicts\n   - Ensure all files < 500 lines\n   - Store refinement status: \\`npx claude-flow memory store ${memoryNamespace}_refinement_progress \"Core features implemented. Tests passing. Security review in progress.\"\\`\n\n5. **Completion Phase Coordination** (15 mins)\n   - Final integration and deployment tasks:\n     \\`\\`\\`bash\n     # System integration\n     npx claude-flow sparc run integration \"Integrate all components\" --non-interactive\n     \n     # Documentation\n     npx claude-flow sparc run docs-writer \"Create comprehensive documentation\" --non-interactive\n     \n     # Optimization\n     npx claude-flow sparc run refinement-optimization-mode \"Optimize performance and structure\" --non-interactive\n     \n     # DevOps deployment\n     npx claude-flow sparc run devops \"Deploy to production\" --non-interactive\n     \n     # Monitoring setup\n     npx claude-flow sparc run post-deployment-monitoring-mode \"Configure production monitoring\" --non-interactive\n     \\`\\`\\`\n   - Validate all deliverables\n   - Ensure continuous improvement setup\n   - Store completion: \\`npx claude-flow memory store ${memoryNamespace}_sparc_complete \"Project delivered. All phases complete. Documentation ready. Deployed to production. Monitoring active.\"\\`\n\n## Task Delegation Strategy\n\nFor each subtask, I will:\n1. Define clear objectives and success criteria\n2. Assign to the most appropriate specialist mode\n3. Set dependencies and priorities\n4. Monitor progress via memory queries\n5. Coordinate handoffs between modes\n6. Resolve conflicts and blockers\n7. Ensure quality standards (modularity, security, testing)\n\n## Quality Validation Checklist\nâœ… All files < 500 lines\nâœ… No hardcoded environment variables\nâœ… Modular, testable architecture\nâœ… Comprehensive test coverage\nâœ… Security review completed\nâœ… Documentation up to date\nâœ… Deployment successful\nâœ… Monitoring configured\n\n## Orchestration Commands\n\\`\\`\\`bash\n# Check overall progress\nnpx claude-flow memory query ${memoryNamespace}_sparc\n\n# View specific phase status\nnpx claude-flow memory query ${memoryNamespace}_refinement\n\n# Check task dependencies\nnpx claude-flow memory query ${memoryNamespace}_dependencies\n\n# Monitor active tasks\nnpx claude-flow status\n\\`\\`\\`\n\n## Next Steps\nI'll now begin orchestrating the SPARC workflow for \"${taskDescription}\". Each phase will be carefully managed with appropriate specialist modes to ensure secure, modular, and maintainable delivery.\n\nRemember: Every subtask must follow SPARC principles and end with clear deliverables. Let's build something amazing together! ðŸš€`;\n}\n"],"names":["getSparcOrchestratorOrchestration","taskDescription","memoryNamespace"],"mappings":"AACA,OAAO,SAASA,kCAAkCC,eAAe,EAAEC,eAAe;IAChF,OAAO,CAAC;;;2DAGiD,EAAED,gBAAgB;;;;;;;0CAOnC,EAAEA,gBAAgB;;8DAEE,EAAEA,gBAAgB;4EACJ,EAAEA,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;qCAuBzD,EAAEA,gBAAgB;;;kCAGrB,EAAEC,gBAAgB;;;;;;;;;;;gDAWJ,EAAEA,gBAAgB,wBAAwB,EAAED,gBAAgB;;;;;;iFAM3B,EAAEA,gBAAgB;;;kCAGjE,EAAEC,gBAAgB;;;;;wDAKI,EAAEA,gBAAgB;;;;;;2EAMC,EAAED,gBAAgB;;;kCAG3D,EAAEC,gBAAgB;;;;;wDAKI,EAAEA,gBAAgB;;;;;;;;;;;;;;;;;;kCAkBxC,EAAEA,gBAAgB;;;;6DAIS,EAAEA,gBAAgB;;;;;;;;;;;;;;;;;;;;;;sDAsBzB,EAAEA,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;6BA0B3C,EAAEA,gBAAgB;;;6BAGlB,EAAEA,gBAAgB;;;6BAGlB,EAAEA,gBAAgB;;;;;;;qDAOM,EAAED,gBAAgB;;gIAEyD,CAAC;AACjI"}